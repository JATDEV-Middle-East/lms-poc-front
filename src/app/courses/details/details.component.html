<div class="container-fluid p-4" *ngIf="course != null">

    <h1 class="course_title fw-bold mb-2">{{course.title}}</h1>
    <!-- Page Title -->
    <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#" class="text-decoration-none">Courses</a></li>
            <li class="breadcrumb-item">{{course.title}}</li>
        </ol>
    </nav>
    <!-- Breadcrumb -->

    <div class="row">
        <!-- Main Content Column -->
        <div class="col-lg-8">
            <!-- What you'll learn -->
            <div class="card mb-4">
                <div class="card-body">
                    <h2 class="h4 fw-bold mb-4">What you'll learn</h2>

                    <div class="learning-grid">
                        <div class="learning-item" *ngFor="let learningItem of course.learningOutcomes">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="#7337FF" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                            </svg>

                            <span>{{learningItem.outcomeText}}</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Course Content -->
            <div class="card border-0">
                <div class="card-header border-0 bg-white">
                    <h3 class="h5 fw-bold mb-1">Course Content</h3>
                    <p class="text-muted mb-0">{{course.sections.length}} sections • 19 lectures • 10h 46m total length</p>
                </div>

                <div class="card-body p-0">
                    <div class="accordion" id="courseContentAccordion">

                        <div class="accordion-item mt-2" *ngFor="let section of course.sections; let i = index; let first = first">
                            <h2 class="accordion-header" id="headingIntro">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                [attr.data-bs-target]="'#' + section.id + 'Collapse'"
                                [attr.aria-expanded]="first ? 'true' : 'false'"
                                [attr.aria-controls]="section.id + 'Collapse'">
                                <span class="fw-medium">Section {{ i + 1 }}: {{ section.title }}</span>
                                </button>
                            </h2>
                            <div id="{{section.id}}Collapse" class="accordion-collapse collapse" [class.show]="first"
                                aria-labelledby="headingIntro" data-bs-parent="#courseContentAccordion">
                                <div class="accordion-body ps-3">
                                    <div class="lecture-item" *ngFor="let lecture of section.lectures">
                                        <div class="lecture-content d-flex align-items-center">
                                            <svg *ngIf="lecture.type.toLowerCase() == 'video' || lecture.type.toLowerCase() == 'other'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                stroke-width="1.5" stroke="currentColor" class="size-6">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M6 20.25h12m-7.5-3v3m3-3v3m-10.125-3h17.25c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125Z" />
                                            </svg>

                                             <svg *ngIf="lecture.type.toLowerCase() == 'quiz'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
                                            </svg>

                                            <svg *ngIf="lecture.type.toLowerCase() == 'document'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
                                            </svg>

                                            <div>
                                                <span class="lecture-title">{{lecture.title}}</span>
                                            </div>
                                        </div>
                                        <span class="lecture-duration">
                                            {{ lecture.type.toLowerCase() == 'quiz' ? lecture.questionsCount : lecture.duration}}
                                        </span>
                                    </div>
   

                                    <div class="lecture-item">
                                        <div class="lecture-content">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
                                            </svg>

                                            <span class="lecture-title">Section 1 Quiz</span>
                                        </div>
                                        <span class="lecture-duration">5 questions</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar with Course Card -->
        <div class="col-lg-4">
            <div class="course-card">
                <app-course-partial
                    [course]="course"
                    [isEnrolling]="isEnrolling"
                    (enrollEvent)="enrolInCourse()"
                 ></app-course-partial>
            </div>
        </div>
    </div>
</div>